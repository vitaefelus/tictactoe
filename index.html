<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>Tic-Tac-Toe</title>

        <script>
            var k = 0;
            window.addEventListener('load', function () {

              var field = document.getElementById("main");
              var selectColor = document.getElementById("selectColor");
              var fieldSize = document.getElementById("fieldSize");
              var width = window.innerWidth;
              var height = window.innerHeight;

              initOX(3);

              //LISTENERS
              fieldSize.addEventListener("change",function(){
                field.innerHTML = "";
                initOX(fieldSize.value);
              },false)

              selectColor.addEventListener("change",function(){
                var coloring = document.getElementsByClassName("coloring");
                for(i=0;i<coloring.length;i++){
                  var x = selectColor.value;
                  coloring[i].style.background = x;
                }
              },false)
              //--------

              //FUNCTIONS
              function size(){
                if(width>=height){
                  return height;
                }else{
                  return width;
                }
              }

              function initOX(n) {
                var sizing = 0;
                sizing = size()/n;
                for(var j=0;j<n;j++){
                  for(var i=0;i<n;i++){
                    var square = document.createElement("div");
                    square.setAttribute("class","coloring")
                    square.style.position = "absolute";
                    square.style.width = sizing + "px";
                    square.style.height = sizing + "px";
                    square.style.background = "#ff0000";
                    square.style.border = "4px solid black";
                    square.style.marginLeft = i*sizing + "px";
                    square.style.marginTop = j*sizing + "px";
                    field.appendChild(square);
                    square.addEventListener("click",function(event){
                      var target = event.target;
                      if(k%2){
                        target.innerHTML = "X";
                      }else{
                        target.innerHTML = "O";
                      }
                      k++;
                    },false)
                  }
                }
              };
              //==========
            },false)
        </script>
    </head>
    <body>

        <select id="fieldSize">
            <option value="3">3x3</option>
            <option value="4">4x4</option>
            <option value="5">5x5</option>
            <option value="6">6x6</option>
        </select>

        <select id="selectColor">
            <option value="#ff0000">Czerwony</option>
            <option value="#00ff00">Zielony</option>
            <option value="#0000ff">Niebieski</option>
            <option value="#ffffff">Bia≈Çy</option>
        </select>

        <div id="main"></div>


        <!-- <script type="text/javascript" src="cordova.js"></script>
         -->
    </body>
</html>
